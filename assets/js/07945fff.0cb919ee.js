"use strict";(self.webpackChunkmare_ai=self.webpackChunkmare_ai||[]).push([[4554],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var o=t(96540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}},85694:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"getting-started/contributing/vscode-remote-debug","title":"VSCode Remote Debug","description":"Using VSCode Remote Debugging with Marie is easy.","source":"@site/docs/getting-started/contributing/vscode-remote-debug.md","sourceDirName":"getting-started/contributing","slug":"/getting-started/contributing/vscode-remote-debug","permalink":"/docs/getting-started/contributing/vscode-remote-debug","draft":false,"unlisted":false,"editUrl":"https://github.com/marieai/marie-ai/tree/main/docs/docs/getting-started/contributing/vscode-remote-debug.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Build Guide","permalink":"/docs/getting-started/contributing/build-guide"},"next":{"title":"Deployment","permalink":"/docs/category/deployment"}}');var i=t(74848),r=t(28453);const s={},d="VSCode Remote Debug",c={},a=[{value:"Starting the server",id:"starting-the-server",level:2},{value:"Advanced configuration:",id:"advanced-configuration",level:3},{value:"Attaching the debugger",id:"attaching-the-debugger",level:2},{value:"Debugging",id:"debugging",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"vscode-remote-debug",children:"VSCode Remote Debug"})}),"\n",(0,i.jsx)(n.p,{children:"Using VSCode Remote Debugging with Marie is easy."}),"\n",(0,i.jsx)(n.h2,{id:"starting-the-server",children:"Starting the server"}),"\n",(0,i.jsxs)(n.p,{children:["To start the server with ",(0,i.jsx)(n.code,{children:"DEBUG"})," enabled, run the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MARIE_DEBUG=1 marie server --start --uses /mnt/data/marie-ai/config/service/marie.yml \n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will start the server with ",(0,i.jsx)(n.code,{children:"DEBUG"})," enabled and will wait for the debugger to attach.\nBy default, the debugger will wait for the client to attach on port ",(0,i.jsx)(n.code,{children:"5678"})," and will bind to ",(0,i.jsx)(n.code,{children:"0.0.0.0"})]}),"\n",(0,i.jsx)(n.h3,{id:"advanced-configuration",children:"Advanced configuration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MARIE_DEBUG"})," - enable debug"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MARIE_DEBUG_PORT"})," - port to bind to"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MARIE_DEBUG_WAIT_FOR_CLIENT"})," - wait for client to attach"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MARIE_DEBUG_HOST"})," - host to bind to"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If not specified, the following defaults will be used:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MARIE_DEBUG=1\nMARIE_DEBUG_PORT=5678\nMARIE_DEBUG_WAIT_FOR_CLIENT=1\nMARIE_DEBUG_HOST=0.0.0.0\n"})}),"\n",(0,i.jsx)(n.p,{children:"Usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MARIE_DEBUG=1;MARIE_DEBUG_PORT=5678;MARIE_DEBUG_WAIT_FOR_CLIENT=1;MARIE_DEBUG_HOST=0.0.0.0 \\\nmarie server --start --uses /mnt/data/marie-ai/config/service/marie.yml \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MARIE_DEBUG=1;MARIE_DEBUG_PORT=5678;MARIE_DEBUG_WAIT_FOR_CLIENT=1;MARIE_DEBUG_HOST=0.0.0.0 \\\nmarie server --start --uses /etc/marie/config/service/marie-3.0.2x-corr.yml\n"})}),"\n",(0,i.jsx)(n.h2,{id:"attaching-the-debugger",children:"Attaching the debugger"}),"\n",(0,i.jsxs)(n.p,{children:["To attach the debugger, you need to create or modify ",(0,i.jsx)(n.code,{children:"launch.json"})," file in your ",(0,i.jsx)(n.code,{children:".vscode"})," folder."]}),"\n",(0,i.jsxs)(n.p,{children:["Under the Run/Debug icon and then > menu ",(0,i.jsx)(n.code,{children:"Run"}),", select ",(0,i.jsx)(n.code,{children:"Add configuration"})," or ",(0,i.jsx)(n.code,{children:"Run> Open Configurations"}),".\nPaste this in or add the keys, confirm your port matches the Marie session. ",(0,i.jsx)(n.a,{href:"https://code.visualstudio.com/docs/python/debugging",children:"https://code.visualstudio.com/docs/python/debugging"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    "version": "0.2.0",\n    "configurations": [\n      // Attaches to injected debugpy hosted on port 5678.\n      // https://code.visualstudio.com/docs/containers/docker-compose\n      {\n        "name": "Python: Remote Attach Marie (docker)",\n        "type": "python",\n        "request": "attach",\n        "connect": {\n          "host": "0.0.0.0",\n          "port": 5678\n        },\n        "pathMappings": [\n          {\n            "localRoot": "${workspaceFolder}",\n            "remoteRoot": "."\n          }\n        ]\n      },\n      // Attaches to injected debugpy hosted on port 5678.\n      // https://code.visualstudio.com/docs/containers/docker-compose\n      {\n        "name": "Python: Remote Attach Marie (localhost)",\n        "type": "python",\n        "request": "attach",\n        "connect": {\n          "host": "0.0.0.0",\n          "port": 5678\n        },\n        // "pathMappings": [\n        //   {\n        //     "localRoot": "${workspaceFolder}",\n        //     "remoteRoot": "./marie"\n        //   }\n        // ]\n      }\n    ]\n  }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,i.jsx)(n.p,{children:"At this point, you should be able to start the server and attach the debugger.\nYou can now set breakpoints and debug the server."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);