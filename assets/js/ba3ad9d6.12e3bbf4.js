"use strict";(self.webpackChunkmare_ai=self.webpackChunkmare_ai||[]).push([[3411],{28453:(e,r,o)=>{o.d(r,{R:()=>n,x:()=>i});var d=o(96540);const s={},t=d.createContext(s);function n(e){const r=d.useContext(t);return d.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),d.createElement(t.Provider,{value:r},e.children)}},63870:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"models/model-registry","title":"Model Registry","description":"Model Registry","source":"@site/docs/models/model-registry.md","sourceDirName":"models","slug":"/models/model-registry","permalink":"/docs/models/model-registry","draft":false,"unlisted":false,"editUrl":"https://github.com/marieai/marie-ai/tree/main/docs/docs/models/model-registry.md","tags":[],"version":"current","frontMatter":{"description":"Model Registry","sidebar_label":"Registry","slug":"/models/model-registry"},"sidebar":"tutorialSidebar","previous":{"title":"Named entity recognition","permalink":"/docs/models/named-entity-recognition"},"next":{"title":"Introduction","permalink":"/docs/category/models"}}');var s=o(74848),t=o(28453);const n={description:"Model Registry",sidebar_label:"Registry",slug:"/models/model-registry"},i="Model Registry",l={},a=[{value:"Providers",id:"providers",level:2},{value:"Adding provider",id:"adding-provider",level:3},{value:"Examples",id:"examples",level:2}];function c(e){const r={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"model-registry",children:"Model Registry"})}),"\n",(0,s.jsx)(r.p,{children:"Model registry provides a unified way to search and retrieve models from number of sources."}),"\n",(0,s.jsx)(r.p,{children:"Each model is downloaded to local cache and used from there, check is performed on the model to make sure that it has\nnot been updated since last download time."}),"\n",(0,s.jsx)(r.h2,{id:"providers",children:"Providers"}),"\n",(0,s.jsx)(r.p,{children:"There are number of different providers that can be used out of the box."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protocol"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"zoo"}),(0,s.jsx)(r.td,{children:"Local model zoo(native file access)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"git"}),(0,s.jsx)(r.td,{children:"Git"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"S3"}),(0,s.jsx)(r.td,{children:"Amazon S3"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"gdrive"}),(0,s.jsx)(r.td,{children:"Google Drive"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"dvc"}),(0,s.jsx)(r.td,{children:"Data Version Control"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"mflow"}),(0,s.jsx)(r.td,{children:"Mflow support"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"transformers"}),(0,s.jsx)(r.td,{children:"Transformers model"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"adding-provider",children:"Adding provider"}),"\n",(0,s.jsxs)(r.p,{children:["Adding a new provider requires that we implement a ",(0,s.jsx)(r.code,{children:"ModelRegistryHandler"}),".",(0,s.jsx)(r.br,{}),"\n",(0,s.jsx)(r.code,{children:"ModelRegistryHandler"})," is a base class that defines common functionality for a URI protocol.\nIt routes I/O for a generic URI which may look like ",(0,s.jsx)(r.code,{children:"protocol://*"})," or a canonical filepath ",(0,s.jsx)(r.code,{children:"/foo/bar/baz."})]}),"\n",(0,s.jsx)(r.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Get model by name or path"}),"\nThis is a basic usage of how to use the ",(0,s.jsx)(r.code,{children:"ModelRegistry"})," all registered providers will be searched in order to find the\nmodel."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'_name_or_path = "group/layoutlmv3-large-indexer-ner"\n_name_or_path = ModelRegistry.get(_name_or_path)\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Customize model search directory"})}),"\n",(0,s.jsxs)(r.p,{children:["We can customize model search directory by adding ",(0,s.jsx)(r.code,{children:"__model_path__"})," to our ",(0,s.jsx)(r.code,{children:"**kwargs"})," and passing them to the function."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'__model_path__ = os.path.join(\n    os.path.abspath(os.path.join(__root_dir__, "..")), "model_zoo"\n)\n_name_or_path = "group/layoutlmv3-large-indexer-ner"\nkwargs = {"__model_path__": __model_path__}\n_name_or_path = ModelRegistry.get(_name_or_path, **kwargs)\n'})}),"\n",(0,s.jsx)(r.h1,{id:"proxies",children:"Proxies"}),"\n",(0,s.jsx)(r.p,{children:"Proxies are used to provide a unified way to access models from different sources."})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);