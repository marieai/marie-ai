"use strict";(self.webpackChunkmare_ai=self.webpackChunkmare_ai||[]).push([[9329],{23691:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"extract/roles","title":"Role Hints","description":"Role hints bridge static configuration with dynamic business logic, allowing the extraction system to apply different processing rules to sections based on their semantic purpose.","source":"@site/docs/extract/roles.md","sourceDirName":"extract","slug":"/extract/roles","permalink":"/docs/extract/roles","draft":false,"unlisted":false,"editUrl":"https://github.com/marieai/marie-ai/tree/main/docs/docs/extract/roles.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Extract Engine \u2014 Entry Point","permalink":"/docs/extract/extract-overview"},"next":{"title":"Marie Scheduler: Execution and Scheduling Behavior","permalink":"/docs/extract/scheduler"}}');var r=s(74848),l=s(28453);const t={},o="Role Hints",c={},a=[{value:"Role Hint Processing Flow",id:"role-hint-processing-flow",level:2},{value:"1. <strong>Section Discovery and Routing</strong>",id:"1-section-discovery-and-routing",level:3},{value:"2. <strong>Processing Method Selection</strong>",id:"2-processing-method-selection",level:3},{value:"3. <strong>Field Mapping by Role</strong>",id:"3-field-mapping-by-role",level:3},{value:"Configuration Patterns",id:"configuration-patterns",level:2},{value:"Pattern 1: Role-Based Processing",id:"pattern-1-role-based-processing",level:3},{value:"Pattern 2: Multi-Layer Processing",id:"pattern-2-multi-layer-processing",level:3},{value:"Pattern 3: Field Scoping by Role",id:"pattern-3-field-scoping-by-role",level:3},{value:"Business Use Cases",id:"business-use-cases",level:2},{value:"Healthcare Claims Processing",id:"healthcare-claims-processing",level:3},{value:"Financial Document Processing",id:"financial-document-processing",level:3},{value:"Legal Document Processing",id:"legal-document-processing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Configuration Organization",id:"configuration-organization",level:3},{value:"Validation and Error Handling",id:"validation-and-error-handling",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"role-hints",children:"Role Hints"})}),"\n",(0,r.jsx)(n.p,{children:"Role hints bridge static configuration with dynamic business logic, allowing the extraction system to apply different processing rules to sections based on their semantic purpose."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"role-hint-processing-flow",children:"Role Hint Processing Flow"}),"\n",(0,r.jsxs)(n.h3,{id:"1-section-discovery-and-routing",children:["1. ",(0,r.jsx)(n.strong,{children:"Section Discovery and Routing"})]}),"\n",(0,r.jsxs)(n.p,{children:["The extraction visitor examines each section's ",(0,r.jsx)(n.code,{children:"role_hint"})," to determine appropriate processing:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extracts ",(0,r.jsx)(n.code,{children:"role_hint"})," from ",(0,r.jsx)(n.code,{children:'section.tags["role_hint"]'})]}),"\n",(0,r.jsx)(n.li,{children:"Matches against configured processing rules"}),"\n",(0,r.jsx)(n.li,{children:"Routes to specialized processors based on business logic"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-processing-method-selection",children:["2. ",(0,r.jsx)(n.strong,{children:"Processing Method Selection"})]}),"\n",(0,r.jsx)(n.p,{children:"Different sections receive different treatment based on their role hints:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tables"}),": Complex parsing, grouping, validation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Key-Value"}),": Field extraction and mapping"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom"}),": Business-specific logic"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-field-mapping-by-role",children:["3. ",(0,r.jsx)(n.strong,{children:"Field Mapping by Role"})]}),"\n",(0,r.jsx)(n.p,{children:"The system applies different annotation selectors based on semantic context:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Service line sections \u2192 procedure codes, amounts, dates"}),"\n",(0,r.jsx)(n.li,{children:"Claim information sections \u2192 patient data, claim numbers"}),"\n",(0,r.jsx)(n.li,{children:"Remark sections \u2192 code descriptions, references"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-patterns",children:"Configuration Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"pattern-1-role-based-processing",children:"Pattern 1: Role-Based Processing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'layers:\n  layer-main:\n    region_parser:\n      sections:\n        - title: SERVICE LINES\n          role: service_lines    # \u2192 role_hint\n          parse: table\n\n    regions:\n      - title: SERVICE LINES\n        role: service_lines\n        type: table\n        table:\n          columns:\n            DATE_OF_SERVICE:\n              annotation_selectors: ["DATES_OF_SERVICE"]\n            PROCEDURE_CODE:\n              annotation_selectors: ["PROCEDURE_DESCRIPTION"]\n            BILLED_AMOUNT:\n              annotation_selectors: ["BILLED_AMOUNT"]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"pattern-2-multi-layer-processing",children:"Pattern 2: Multi-Layer Processing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"layers:\n  layer-main:\n    # Standard markdown regions\n    region_parser:\n      parsing_method: mrp\n      sections:\n        - title: CLAIM INFORMATION\n          role: claim_information\n          parse: kv\n\n  layer-remarks:\n    # Custom processor regions\n    region_parser:\n      parsing_method: section_processor\n      processors:\n        remarks_processor:\n          role: remarks\n          priority: 1\n    regions:\n      - title: REMARK CODES\n        role: remarks\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pattern-3-field-scoping-by-role",children:"Pattern 3: Field Scoping by Role"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'non_repeating_fields:\n  CLAIM_NUMBER:\n    scope: REGION\n    role: claim_information    # Only applies to this role_hint\n    annotation_selectors: ["CLAIM NUMBER"]\n    \n  REMARK_CODE:\n    scope: REGION\n    role: remarks             # Only applies to remark sections\n    annotation_selectors: ["REMARKS_CODE"]\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"business-use-cases",children:"Business Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"healthcare-claims-processing",children:"Healthcare Claims Processing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"claim_information"})}),": Patient demographics, provider details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"service_lines"})}),": Medical procedures, dates, billing amounts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"claim_totals"})}),": Financial summaries, deductibles, payments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"remarks"})}),": Billing codes, denial reasons, adjustments"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"financial-document-processing",children:"Financial Document Processing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"account_summary"})}),": Account numbers, balances, dates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"transactions"})}),": Transaction details, amounts, categories"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"fees_charges"})}),": Service fees, interest charges"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"payment_history"})}),": Payment dates, amounts, methods"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"legal-document-processing",children:"Legal Document Processing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"case_details"})}),": Case numbers, parties, dates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"evidence_list"})}),": Exhibit numbers, descriptions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"rulings"})}),": Court decisions, orders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"references"})}),": Citations, precedents"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use descriptive, business-meaningful names"}),"\n",(0,r.jsxs)(n.li,{children:["Follow ",(0,r.jsx)(n.code,{children:"snake_case"}),": ",(0,r.jsx)(n.code,{children:"claim_information"}),", ",(0,r.jsx)(n.code,{children:"service_lines"})]}),"\n",(0,r.jsxs)(n.li,{children:["Group related sections with prefixes: ",(0,r.jsx)(n.code,{children:"claim_info"}),", ",(0,r.jsx)(n.code,{children:"claim_totals"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configuration-organization",children:"Configuration Organization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Layer separation"}),": Group similar processing types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Role consistency"}),": Use same role names across similar document types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear hierarchy"}),": Primary content as ",(0,r.jsx)(n.code,{children:"main"}),", supporting content as context roles"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"validation-and-error-handling",children:"Validation and Error Handling"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Validate role hints against supported values"}),"\n",(0,r.jsx)(n.li,{children:"Provide meaningful error messages for unsupported roles"}),"\n",(0,r.jsx)(n.li,{children:"Log processing decisions for debugging"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Role hints transform the structured region system from a generic parser into a business-aware extraction engine:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Selective Processing"}),": Only relevant sections get processed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Field Scoping"}),": Different extractors for different content types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Business Logic"}),": Custom rules based on document semantics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extensibility"}),": New document types via configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintainability"}),": Clear separation of concerns"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Configuration Flexibility:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multiple processing methods per layer"}),"\n",(0,r.jsx)(n.li,{children:"Role-specific field mappings"}),"\n",(0,r.jsx)(n.li,{children:"Custom processors for specialized content"}),"\n",(0,r.jsx)(n.li,{children:"Cross-section dependencies and validation"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This enables teams to handle diverse document types and evolving business requirements through configuration changes rather than code modifications."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);